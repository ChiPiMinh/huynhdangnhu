<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>B·∫°n tin tui ch∆∞a</title>
<style>
html,body{
  margin:0;
  width:100%;
  height:100%;
  background:black;
  overflow:hidden;
  font-family:Arial, sans-serif;
}

/* n√∫t b·∫≠t nh·∫°c */
#musicBtn{
  position:fixed;
  top:15px;
  right:15px;
  z-index:999;
  background:#ff77cc;
  border:none;
  padding:10px 16px;
  border-radius:20px;
  color:white;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 0 10px #ff77cc;
}

.scene{
  width:100%;
  height:100%;
  perspective:1000px;
}

.world{
  position:absolute;
  width:100%;
  height:100%;
  transform-style:preserve-3d;
}

/* m·ªói l·ªõp */
.layer{
  position:absolute;
  width:100%;
  height:100%;
  transform-style:preserve-3d;
}

/* ch·ªØ */
.text{
  position:absolute;
  color:#ff77cc;
  font-weight:bold;
  white-space:nowrap;
  text-shadow:
    0 0 6px #ff77cc,
    0 0 15px #ff55bb,
    0 0 30px #ff33aa;
  animation: float linear infinite;
}

/* tim */
.heart{
  position:absolute;
  color:red;
  text-shadow:0 0 15px red;
  animation: float linear infinite;
}

@keyframes float{
  from{
    transform: translateY(120vh);
    opacity:0;
  }
  20%{opacity:1;}
  to{
    transform: translateY(-140vh);
    opacity:0;
  }
}
</style>
</head>
<body>

<button id="musicBtn">üîä B·∫≠t nh·∫°c</button>

<!-- nh·∫°c n·ªÅn -->
<audio id="bgm" loop>
  <source src="https://files.catbox.moe/djiasa.mp3" type="audio/mpeg">
</audio>

<div class="scene">
  <div class="world" id="world"></div>
</div>

<script>
const world = document.getElementById("world");
const music = document.getElementById("bgm");
const btn = document.getElementById("musicBtn");

btn.onclick = ()=>{
  if(music.paused){
    music.play();
    btn.innerText = "üîä ƒêang ph√°t";
  }else{
    music.pause();
    btn.innerText = "üîà T·∫Øt nh·∫°c";
  }
};

const texts = [
  "ƒê·ªÉ tao ch·ª©ng minh cho m√†iiiii",
  "ƒê·ªì g·∫•u tr√∫c ƒë√°ng gh√©t, ch√∫c ng·ªß ngoan iiii"
];

// ====== T·∫†O NHI·ªÄU L·ªöP ======
const LAYERS = 6;
const layerDistance = 220;
let layers = [];

for(let i=0;i<LAYERS;i++){
  const layer = document.createElement("div");
  layer.className = "layer";
  layer.style.transform = `translateZ(${-i*layerDistance}px)`;
  world.appendChild(layer);
  layers.push(layer);
}

function rand(min,max){ return Math.random()*(max-min)+min; }

// ====== T·∫†O CH·ªÆ ======
function createText(){
  const el = document.createElement("div");
  el.className="text";
  el.innerText = texts[Math.floor(Math.random()*texts.length)];

  el.style.left = rand(0,90)+"vw";
  el.style.fontSize = rand(14,60)+"px";
  el.style.animationDuration = rand(10,20)+"s";

  const layer = layers[Math.floor(Math.random()*layers.length)];
  layer.appendChild(el);

  setTimeout(()=>el.remove(),20000);
}

// ====== T·∫†O TIM ======
function createHeart(){
  const h = document.createElement("div");
  h.className="heart";
  h.innerText="‚ù§";

  h.style.left = rand(0,95)+"vw";
  h.style.fontSize = rand(18,40)+"px";
  h.style.animationDuration = rand(8,16)+"s";

  const layer = layers[Math.floor(Math.random()*layers.length)];
  layer.appendChild(h);

  setTimeout(()=>h.remove(),16000);
}

setInterval(createText,400);
setInterval(createHeart,700);

// ====== XOAY GALAXY ======
let rx=0, ry=0;
let drag=false, lx=0, ly=0;

document.addEventListener("mousedown",e=>{
  drag=true; lx=e.clientX; ly=e.clientY;
});
document.addEventListener("mouseup",()=>drag=false);
document.addEventListener("mousemove",e=>{
  if(!drag) return;
  const dx=e.clientX-lx;
  const dy=e.clientY-ly;
  ry+=dx*0.2;
  rx-=dy*0.2;
  world.style.transform=`rotateX(${rx}deg) rotateY(${ry}deg)`;
  lx=e.clientX; ly=e.clientY;
});

// mobile
document.addEventListener("touchstart",e=>{
  drag=true;
  lx=e.touches[0].clientX;
  ly=e.touches[0].clientY;
});
document.addEventListener("touchend",()=>drag=false);
document.addEventListener("touchmove",e=>{
  if(!drag) return;
  const x=e.touches[0].clientX;
  const y=e.touches[0].clientY;
  const dx=x-lx;
  const dy=y-ly;
  ry+=dx*0.2;
  rx-=dy*0.2;
  world.style.transform=`rotateX(${rx}deg) rotateY(${ry}deg)`;
  lx=x; ly=y;
});
</script>

</body>
</html>
